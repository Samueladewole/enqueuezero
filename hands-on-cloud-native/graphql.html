<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Play around with GraphQL | Enqueue Zero</title>
    <meta name="description" content="Enqueue Zero is publishing code principles.">
    
    
    <link rel="preload" href="/assets/css/0.styles.8179f028.css" as="style"><link rel="preload" href="/assets/js/app.a5c5a90d.js" as="script"><link rel="preload" href="/assets/js/76.bd32ba3e.js" as="script"><link rel="prefetch" href="/assets/js/10.018ae37c.js"><link rel="prefetch" href="/assets/js/100.22197086.js"><link rel="prefetch" href="/assets/js/101.54f8900f.js"><link rel="prefetch" href="/assets/js/102.14e6dfaa.js"><link rel="prefetch" href="/assets/js/103.bc5fe21b.js"><link rel="prefetch" href="/assets/js/104.7c80f93b.js"><link rel="prefetch" href="/assets/js/105.ca3d43a8.js"><link rel="prefetch" href="/assets/js/106.b5a1a7b8.js"><link rel="prefetch" href="/assets/js/107.88dc4bf2.js"><link rel="prefetch" href="/assets/js/108.d27316ac.js"><link rel="prefetch" href="/assets/js/109.c1c3f7d5.js"><link rel="prefetch" href="/assets/js/11.a4d6c639.js"><link rel="prefetch" href="/assets/js/110.5d20362d.js"><link rel="prefetch" href="/assets/js/111.19567cc3.js"><link rel="prefetch" href="/assets/js/112.7a1166db.js"><link rel="prefetch" href="/assets/js/113.a581c843.js"><link rel="prefetch" href="/assets/js/114.f04c0a5d.js"><link rel="prefetch" href="/assets/js/115.a2ef8992.js"><link rel="prefetch" href="/assets/js/116.f51b1cb8.js"><link rel="prefetch" href="/assets/js/117.6b7d8777.js"><link rel="prefetch" href="/assets/js/118.3fe35660.js"><link rel="prefetch" href="/assets/js/119.03a28530.js"><link rel="prefetch" href="/assets/js/12.a363c990.js"><link rel="prefetch" href="/assets/js/120.2e35a8ac.js"><link rel="prefetch" href="/assets/js/121.17e2a843.js"><link rel="prefetch" href="/assets/js/122.5f11d90e.js"><link rel="prefetch" href="/assets/js/123.3c2169bd.js"><link rel="prefetch" href="/assets/js/124.8f97de93.js"><link rel="prefetch" href="/assets/js/125.248f93fd.js"><link rel="prefetch" href="/assets/js/126.be7b49ce.js"><link rel="prefetch" href="/assets/js/127.ba8a13ff.js"><link rel="prefetch" href="/assets/js/128.4f66968d.js"><link rel="prefetch" href="/assets/js/129.1413bbb7.js"><link rel="prefetch" href="/assets/js/13.73c0d89b.js"><link rel="prefetch" href="/assets/js/130.ac5472dd.js"><link rel="prefetch" href="/assets/js/131.8d4dc161.js"><link rel="prefetch" href="/assets/js/132.68b7e465.js"><link rel="prefetch" href="/assets/js/133.79bec4c5.js"><link rel="prefetch" href="/assets/js/134.fa90460e.js"><link rel="prefetch" href="/assets/js/135.9306187f.js"><link rel="prefetch" href="/assets/js/136.b86c2432.js"><link rel="prefetch" href="/assets/js/137.64484ac0.js"><link rel="prefetch" href="/assets/js/138.423a2429.js"><link rel="prefetch" href="/assets/js/139.7d011a69.js"><link rel="prefetch" href="/assets/js/14.ee32880e.js"><link rel="prefetch" href="/assets/js/140.864d5c94.js"><link rel="prefetch" href="/assets/js/141.1fe7b9b2.js"><link rel="prefetch" href="/assets/js/142.23ec1948.js"><link rel="prefetch" href="/assets/js/143.981ad998.js"><link rel="prefetch" href="/assets/js/144.ec0dc002.js"><link rel="prefetch" href="/assets/js/145.aaa80a96.js"><link rel="prefetch" href="/assets/js/146.9f43c059.js"><link rel="prefetch" href="/assets/js/147.743294e7.js"><link rel="prefetch" href="/assets/js/148.1f131e94.js"><link rel="prefetch" href="/assets/js/149.8f4384a4.js"><link rel="prefetch" href="/assets/js/15.bbe22266.js"><link rel="prefetch" href="/assets/js/150.282d9c55.js"><link rel="prefetch" href="/assets/js/151.ac5e5099.js"><link rel="prefetch" href="/assets/js/152.d890f97d.js"><link rel="prefetch" href="/assets/js/153.60c4018e.js"><link rel="prefetch" href="/assets/js/154.d8044b29.js"><link rel="prefetch" href="/assets/js/16.daaa6b7e.js"><link rel="prefetch" href="/assets/js/17.5fa93d15.js"><link rel="prefetch" href="/assets/js/18.5a2a5a8e.js"><link rel="prefetch" href="/assets/js/19.d4cc6828.js"><link rel="prefetch" href="/assets/js/2.c107d922.js"><link rel="prefetch" href="/assets/js/20.f3aed24e.js"><link rel="prefetch" href="/assets/js/21.602e65dc.js"><link rel="prefetch" href="/assets/js/22.7f1ef34d.js"><link rel="prefetch" href="/assets/js/23.dd96e288.js"><link rel="prefetch" href="/assets/js/24.f0393f01.js"><link rel="prefetch" href="/assets/js/25.b3eaf42e.js"><link rel="prefetch" href="/assets/js/26.d11c3e2f.js"><link rel="prefetch" href="/assets/js/27.874eb632.js"><link rel="prefetch" href="/assets/js/28.9d8180e2.js"><link rel="prefetch" href="/assets/js/29.19e670ae.js"><link rel="prefetch" href="/assets/js/3.dcdecd51.js"><link rel="prefetch" href="/assets/js/30.05dd749c.js"><link rel="prefetch" href="/assets/js/31.ba54249e.js"><link rel="prefetch" href="/assets/js/32.a781042e.js"><link rel="prefetch" href="/assets/js/33.f10ca4c8.js"><link rel="prefetch" href="/assets/js/34.c46037b2.js"><link rel="prefetch" href="/assets/js/35.cd1d35ee.js"><link rel="prefetch" href="/assets/js/36.355a3162.js"><link rel="prefetch" href="/assets/js/37.1f45bb31.js"><link rel="prefetch" href="/assets/js/38.b143ec86.js"><link rel="prefetch" href="/assets/js/39.eeea86dc.js"><link rel="prefetch" href="/assets/js/4.cf9a5ee6.js"><link rel="prefetch" href="/assets/js/40.e3c4ecee.js"><link rel="prefetch" href="/assets/js/41.53454ef8.js"><link rel="prefetch" href="/assets/js/42.7bb7b1cc.js"><link rel="prefetch" href="/assets/js/43.178062e3.js"><link rel="prefetch" href="/assets/js/44.3962ed86.js"><link rel="prefetch" href="/assets/js/45.c3196a88.js"><link rel="prefetch" href="/assets/js/46.24affaf5.js"><link rel="prefetch" href="/assets/js/47.6ae747ba.js"><link rel="prefetch" href="/assets/js/48.16b7b683.js"><link rel="prefetch" href="/assets/js/49.aaf4cf5c.js"><link rel="prefetch" href="/assets/js/5.6758d475.js"><link rel="prefetch" href="/assets/js/50.dec004fc.js"><link rel="prefetch" href="/assets/js/51.13c60055.js"><link rel="prefetch" href="/assets/js/52.9df98683.js"><link rel="prefetch" href="/assets/js/53.5621439f.js"><link rel="prefetch" href="/assets/js/54.82938492.js"><link rel="prefetch" href="/assets/js/55.88368350.js"><link rel="prefetch" href="/assets/js/56.9454cb35.js"><link rel="prefetch" href="/assets/js/57.c22a39d6.js"><link rel="prefetch" href="/assets/js/58.dbf5d826.js"><link rel="prefetch" href="/assets/js/59.0eafc181.js"><link rel="prefetch" href="/assets/js/6.6cd77d2f.js"><link rel="prefetch" href="/assets/js/60.647bf7cb.js"><link rel="prefetch" href="/assets/js/61.4f87d8af.js"><link rel="prefetch" href="/assets/js/62.8836d886.js"><link rel="prefetch" href="/assets/js/63.27177f22.js"><link rel="prefetch" href="/assets/js/64.0a5e943f.js"><link rel="prefetch" href="/assets/js/65.7ce3ee50.js"><link rel="prefetch" href="/assets/js/66.85e8a286.js"><link rel="prefetch" href="/assets/js/67.da6aec92.js"><link rel="prefetch" href="/assets/js/68.83e971cb.js"><link rel="prefetch" href="/assets/js/69.0edbe74d.js"><link rel="prefetch" href="/assets/js/7.6bcf3745.js"><link rel="prefetch" href="/assets/js/70.35469e8c.js"><link rel="prefetch" href="/assets/js/71.54e87c3a.js"><link rel="prefetch" href="/assets/js/72.0975e4c9.js"><link rel="prefetch" href="/assets/js/73.2ec68323.js"><link rel="prefetch" href="/assets/js/74.13bf7e04.js"><link rel="prefetch" href="/assets/js/75.3be14426.js"><link rel="prefetch" href="/assets/js/77.b52bb0c4.js"><link rel="prefetch" href="/assets/js/78.3a77b2d8.js"><link rel="prefetch" href="/assets/js/79.c2747e2d.js"><link rel="prefetch" href="/assets/js/8.f71652a1.js"><link rel="prefetch" href="/assets/js/80.4a107658.js"><link rel="prefetch" href="/assets/js/81.75308548.js"><link rel="prefetch" href="/assets/js/82.9383893b.js"><link rel="prefetch" href="/assets/js/83.3b11109d.js"><link rel="prefetch" href="/assets/js/84.6a005d10.js"><link rel="prefetch" href="/assets/js/85.6cea521f.js"><link rel="prefetch" href="/assets/js/86.fa853074.js"><link rel="prefetch" href="/assets/js/87.5d110306.js"><link rel="prefetch" href="/assets/js/88.34eb170e.js"><link rel="prefetch" href="/assets/js/89.65b23b0d.js"><link rel="prefetch" href="/assets/js/9.207749d9.js"><link rel="prefetch" href="/assets/js/90.9793b902.js"><link rel="prefetch" href="/assets/js/91.aab54e09.js"><link rel="prefetch" href="/assets/js/92.db4b3190.js"><link rel="prefetch" href="/assets/js/93.12604934.js"><link rel="prefetch" href="/assets/js/94.49b2a19d.js"><link rel="prefetch" href="/assets/js/95.8f5b4b26.js"><link rel="prefetch" href="/assets/js/96.b9653b96.js"><link rel="prefetch" href="/assets/js/97.436b94b7.js"><link rel="prefetch" href="/assets/js/98.aa36e199.js"><link rel="prefetch" href="/assets/js/99.5ea4f990.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8179f028.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Enqueue Zero</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"> <a href="https://github.com/soasme/enqueuezero" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"> <a href="https://github.com/soasme/enqueuezero" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <!----> </div> <div class="page"> <div class="content"><h1 id="play-around-with-graphql"><a href="#play-around-with-graphql" class="header-anchor">#</a> Play around with GraphQL</h1> <h2 id="what-is-graphql"><a href="#what-is-graphql" class="header-anchor">#</a> What is GraphQL?</h2> <p>GraphQL is an open-source data query language for APIs, and a runtime for executing queries for existing data. It provides an efficient, powerful and flexible approach to developing web APIs. Just like any other API styles defining how client load data from a server, GraphQL enables the client explicitly declare what type and fields it needs from a server.</p> <p>GraphQL is transport agnostic, meaning you could potentially use any network protocol to send data, such as TCP, HTTP, WebSockets, etc. GraphQL is not tied to any specific database technology. Therefore, you could use a SQL database, a NoSQL database, or even a microservice as backend.</p> <h3 id="graphql-v-s-restful"><a href="#graphql-v-s-restful" class="header-anchor">#</a> GraphQL v/s RESTful</h3> <p>Both GraphQL and RESTful are API design architectures for develop data-driven applications. They are two ways of sending data over HTTP. RESTful API is the standard way for designing APIs and has gained a very wide popularity in many applications. GraphQL is often seen as a revolutionary of RESTful to overcome the shortages of RESTful.</p> <p>A RESTful API uses GET, POST, PUT and DELETE as operations over a basic concept &quot;Resource&quot;. A typical RESTful API has below form:</p> <ul><li>Create a post, <code>POST /api/v1/posts</code>.</li> <li>Get a post list, <code>GET /api/v1/posts</code>.</li> <li>Get a post, <code>GET /api/v1/posts/:id</code>.</li> <li>Update a post, <code>PUT /api/v1/posts/:id</code>.</li> <li>Delete a post, <code>DELETE /api/v1/posts/:id</code>.</li> <li>Add a post comment, <code>POST /api/v1/posts/:id/comment</code>.</li> <li>Like a post, <code>POST /api/v1/posts/:id/like</code>.</li></ul> <p>RESTful API often causes over fetching or under fetching. Each resource has relatively limit set of data as defined in schema. You need to call another API to get other data, which requires more network calls. The most important difference between RESTful API and GraphQL is GraphQL deal with data as a graph and therefore every piece of data can be connected. As a result, there is no over fetching or under fetching.  By using GraphQL, it'll yield to less round trips between clients and servers. We'll explain this advantage in later chapter.</p> <h2 id="why-use-graphql"><a href="#why-use-graphql" class="header-anchor">#</a> Why use GraphQL?</h2> <h3 id="no-over-fetching"><a href="#no-over-fetching" class="header-anchor">#</a> No Over-Fetching</h3> <p>One of the most common downside of RESTful API is over-fetching and under-fetching.</p> <p>In RESTful API, an endpoint usually returns a fixed data structure of a resource. For example, after you send a request <code>GET /posts/:id</code>, it would return data like below:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;1000001&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;title&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;Hands-On Cloud Native Application&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;content&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;--To be continue--&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;created_at&quot;</span><span class="token punctuation">:</span> <span class="token number">1551432089</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Though you don't necessarily need every fields every time, you still need to fetch data. It's not an easy ting to design a RESTful API that can provide clients with the exact data they need.</p> <p>With GraphQL, you can specify just enough data as needed. For example,</p> <div class="language- extra-class"><pre class="language-text"><code>query {
    Post(id: &quot;1000001&quot;) {
        title
    }
}
</code></pre></div><h3 id="no-under-fetching"><a href="#no-under-fetching" class="header-anchor">#</a> No Under-Fetching</h3> <p>As mentioned earlier, With a REST API, typically you need to gather enough data by accessing various endpoints. For example, in order to build a user profile page, you would possibly need to call below endpoints:</p> <ul><li>Get user basic information, <code>GET /users/:id</code>.</li> <li>Get user latest liked posts, <code>GET /users/:id/likes</code>.</li> <li>Get user latest followers, <code>GET /users/:id/followers</code>.</li> <li>Get user latest followees, <code>GET /users/:id/followees</code>.</li></ul> <p>It needs at least four network calls! In GraphQL, you'd simply send one single query to GraphQL server, in which you specifies all the data you need. The GraphQL server aggregates all data needed and then responds with a JSON object where the requirements are fulfilled.</p> <div class="language- extra-class"><pre class="language-text"><code>query {
    User(id: &quot;1000001&quot;) {
        name
        likes {
            id
            title
        }
        followers(last: 3) {
            name
        }
        followees(last: 3) {
            name
        }
    }
}
</code></pre></div><h3 id="strongly-typed-schema"><a href="#strongly-typed-schema" class="header-anchor">#</a> Strongly Typed Schema</h3> <p>GraphQL enables writing schema with a strong type system called GraphQL Schema Definition Language (SDL).</p> <h2 id="challenges"><a href="#challenges" class="header-anchor">#</a> Challenges</h2> <h3 id="server-side-cache"><a href="#server-side-cache" class="header-anchor">#</a> Server-side Cache</h3> <p>Since GraphQL server doesn't know what the query will come next, it's a challenge to maintain server-side cache. One of the common pattern is to reserve an <code>id</code> field always.</p> <h2 id="essential-knowledge"><a href="#essential-knowledge" class="header-anchor">#</a> Essential Knowledge</h2> <h3 id="schema-definition-language"><a href="#schema-definition-language" class="header-anchor">#</a> Schema Definition Language</h3> <p>The syntax for defining GraphQL schemas is called Schema Definition Language (SDL). The schema is a contract of how the data structure should be.</p> <p>Below is an example of how we can use the SDL to define a data structure called <code>Link</code>.</p> <div class="language- extra-class"><pre class="language-text"><code>type Link {
    url: String!
    tags: [String!]
}
</code></pre></div><p>The type has two fields; they are <code>url</code> and <code>tags</code> with type <code>String</code> and <code>[String]</code>. The <code>!</code> indicates that the field is required. The <code>[]</code> indicates the field is an array of values, for example, <code>[String]</code> means a list of <code>String</code> values.</p> <h3 id="fetch-data"><a href="#fetch-data" class="header-anchor">#</a> Fetch Data</h3> <p>GraphQL server exposes only one endpoint to clients. All data will be fetched through this endpoint. What makes the endpoint send different data out is called a <em>query</em>.</p> <p>Below is an example of how we can use a query to fetch data</p> <div class="language- extra-class"><pre class="language-text"><code>{
    myLinks {
        url
        tags
    }
}
</code></pre></div><p>The <code>myLinks</code> field in this query is a <em>root field</em>, in which includes the <em>payload</em> of the query. In this example, the payload has <code>url</code> and <code>tags</code> fields. The query would return a list of user's links in the database. For example,</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    <span class="token string">&quot;myLinks&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;https://enqueuezero.com&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tags&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ez&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token string">&quot;url&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;https://enqueuezero.com/hands-on-cloud-native&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;tags&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;ez&quot;</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="query-arguments"><a href="#query-arguments" class="header-anchor">#</a> Query Arguments</h3> <p>In GraphQL, each <em>field</em> can have zero to more query arguments. For example,</p> <div class="language- extra-class"><pre class="language-text"><code>{
    myLinks(last: 5) {
        url
        tags
    }
}
</code></pre></div><p>In this example, the GraphQL server would only return my last five links.</p> <h3 id="apply-mutations"><a href="#apply-mutations" class="header-anchor">#</a> Apply Mutations</h3> <p>Mutations are for making changes. There are generally three kinds of mutations:</p> <ul><li>Create data</li> <li>Update data</li> <li>Delete data</li></ul> <p>The query for applying mutations are similar, except they start with keyword <code>mutation</code>. Below is an example of how we create a new <code>Link</code>:</p> <div class="language- extra-class"><pre class="language-text"><code>mutation {
    createLink(url: &quot;https://enqueuezero.com&quot;, tags: [&quot;ez&quot;]) {
        id
        created_at
    }
}
</code></pre></div><p>As you can see, the mutation also has a <em>root field</em>, <code>createLink</code> in this example. We also ask for data <code>id</code> and <code>created_at</code> from GraphQL server after the <code>Link</code> is created. The GraphQL server might respond below data:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token string">&quot;createLink&quot;</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;id&quot;</span><span class="token punctuation">:</span> <span class="token number">1000001</span><span class="token punctuation">,</span>
    <span class="token string">&quot;created_at&quot;</span><span class="token punctuation">:</span> <span class="token string">&quot;2019-03-01T09:21:29+00:00&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="define-schema"><a href="#define-schema" class="header-anchor">#</a> Define Schema</h3> <p>The schema is a contract that specifies what data clients can request. Generally, a schema is a set of GraphQL types. Every GraphQL type has a <em>root</em> type, for example <code>Query</code>, <code>Mutation</code>, etc.</p> <p>To support handling queries, we need to define a <code>Query</code> type.</p> <div class="language- extra-class"><pre class="language-text"><code>type Query {
    myLinks: [Link!]!
}
</code></pre></div><p>To support query arguments, we need to add argument to the field.</p> <div class="language- extra-class"><pre class="language-text"><code>type Query {
    myLinks(last: Int): [Link!]!
}
</code></pre></div><p>Similarly, to support creating Links, we'll need to define a <code>Mutation</code> type.</p> <div class="language- extra-class"><pre class="language-text"><code>type Mutation {
    createLink(url: String!, tags: [String!]): Link!
}
</code></pre></div><p>And of course, we need to put <code>Link</code> type as well. Below is the full definition putting everything together.</p> <div class="language- extra-class"><pre class="language-text"><code>type Query {
    myLinks(last: Int): [Link!]!
}

type Mutation {
    createLink(url: String!, tags: [String!]): Link!
}

type Link {
    id: String!
    url: String!
    tags: [String!]!
    created_at: String!
}
</code></pre></div><h3 id="resolvers"><a href="#resolvers" class="header-anchor">#</a> Resolvers</h3> <p>When GraphQL server receives a query, it'll call functions that corresponding to each field in the query to resolve data. They are called <em>resolver</em> functions. Once all resolver functions return value, the server will assemble all data up in the format that is required by the query and send back to client.</p> <h2 id="solutions"><a href="#solutions" class="header-anchor">#</a> Solutions</h2> <ul><li>Clients: Apollo <a href="https://www.apollographql.com/" target="_blank" rel="noopener noreferrer">https://www.apollographql.com/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, Relay <a href="https://facebook.github.io/relay/" target="_blank" rel="noopener noreferrer">https://facebook.github.io/relay/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li> <li>Servers: graphql-js (Node.js) <a href="https://github.com/graphql/graphql-js" target="_blank" rel="noopener noreferrer">https://github.com/graphql/graphql-js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, graphql-ruby (Ruby) <a href="https://github.com/rmosolgo/graphql-ruby" target="_blank" rel="noopener noreferrer">https://github.com/rmosolgo/graphql-ruby<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, graphql-java (Java) <a href="https://github.com/graphql-java/graphql-java" target="_blank" rel="noopener noreferrer">https://github.com/graphql-java/graphql-java<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, Graphene (Python) <a href="https://github.com/graphql-python/graphene" target="_blank" rel="noopener noreferrer">https://github.com/graphql-python/graphene<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, Sangria (Scala) <a href="https://github.com/sangria-graphql/sangria" target="_blank" rel="noopener noreferrer">https://github.com/sangria-graphql/sangria<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</li></ul> <h2 id="play-around-with-graphql-2"><a href="#play-around-with-graphql-2" class="header-anchor">#</a> Play around with GraphQL</h2> <h2 id="summary"><a href="#summary" class="header-anchor">#</a> Summary</h2> <h2 id="references"><a href="#references" class="header-anchor">#</a> References</h2> <p>REST vs. GraphQL, <a href="https://medium.com/codingthesmartway-com-blog/rest-vs-graphql-418eac2e3083" target="_blank" rel="noopener noreferrer">https://medium.com/codingthesmartway-com-blog/rest-vs-graphql-418eac2e3083<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>How To GraphQL, <a href="https://www.howtographql.com" target="_blank" rel="noopener noreferrer">https://www.howtographql.com<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>GraphQL, <a href="https://graphql.org/" target="_blank" rel="noopener noreferrer">https://graphql.org/<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>json-graphql-server, <a href="https://github.com/marmelab/json-graphql-server" target="_blank" rel="noopener noreferrer">https://github.com/marmelab/json-graphql-server<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/soasme/enqueuezero/edit/master/hands-on-cloud-native/graphql.md" target="_blank" rel="noopener noreferrer">Edit this page</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <!----></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/app.a5c5a90d.js" defer></script><script src="/assets/js/76.bd32ba3e.js" defer></script>
  </body>
</html>
